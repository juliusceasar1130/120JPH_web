---
description: 
globs: 
alwaysApply: true
---
# é¡¹ç›®å¼€å‘è§„èŒƒ

## ğŸ¯ æŠ€æœ¯æ ˆçº¦å®š
- **å‰ç«¯æ¡†æ¶**: Vue 3 + Composition API
- **UIç»„ä»¶åº“**: element_plus
- **å¼€å‘è¯­è¨€**: TypeScript
- **çŠ¶æ€ç®¡ç†**: Pinia
- **æ„å»ºå·¥å…·**: Vite
- **æ ·å¼**: CSS3 + CSS Variables

## ğŸ“ é¡¹ç›®ç»“æ„è§„èŒƒ

### APIæ¨¡å—ç»„ç»‡
- APIæ–‡ä»¶ä½ç½®: @src/api/æ¨¡å—åç§°
- APIå’Œå˜é‡åˆ†å¼€å­˜æ”¾
- APIå‘½åè§„èŒƒ: `index.ts`
- å˜é‡ç±»å‹: `type.ts`


### æ–‡æ¡£ç»„ç»‡
- APIæ–‡æ¡£ä½ç½®: @docs/
- å‘½åè§„èŒƒ: `æ¨¡å—åç§° + API.md` (å¦‚ @UserAPI.md)
- é¡¹ç›®æ–‡æ¡£: @README.md

## ğŸ”§ APIå¼€å‘è§„èŒƒ

### 1. APIæ¥å£æ–‡ä»¶ç»“æ„
-å‰ç«¯æ¥å£å‚è€ƒå¦‚ä¸‹ï¼š
```TypeScript
/**
 * æ¥å£åç§°
 * åŠŸèƒ½æè¿°ï¼šè¯¦ç»†æè¿°æ¥å£çš„ä½œç”¨
 * å…¥å‚ï¼š{ param1: ç±»å‹, param2: ç±»å‹ }
 * è¿”å›å‚æ•°ï¼šè¿”å›æ•°æ®ç»“æ„è¯´æ˜
 * urlåœ°å€ï¼š/api/endpoint
 * è¯·æ±‚æ–¹å¼ï¼šGET/POST
 */
export function apiFunction(params) {
  return get('/api/endpoint', params)
}
```

-å˜é‡ç±»å‹å‚è€ƒå¦‚ä¸‹:
```TypeScript
export interface ResponseData {
    code: number,
    message: string,
    ok: boolean,
}
````

### 3. è¯·æ±‚æ–¹å¼é™åˆ¶
- **å…è®¸ä½¿ç”¨ GET å’Œ POST ä¸¤ç§è¯·æ±‚æ–¹å¼**
- GET: ç”¨äºæ•°æ®æŸ¥è¯¢å’Œè·å–
- POST: ç”¨äºæ•°æ®åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤

## ğŸ“– APIæ–‡æ¡£è§„èŒƒ

### æ–‡æ¡£åŒæ­¥è¦æ±‚
**å½“ç”Ÿæˆæˆ–ä¿®æ”¹APIæ¥å£æ—¶ï¼Œä»¥ä¸‹å†…å®¹å˜æ›´å¿…é¡»åŒæ­¥æ›´æ–°APIæ–‡æ¡£ï¼š**
- å…¥å‚ç»“æ„å˜æ›´
- è¿”å›å‚æ•°å˜æ›´  
- URLåœ°å€å˜æ›´
- è¯·æ±‚æ–¹å¼å˜æ›´

### æ–‡æ¡£æ ¼å¼æ ‡å‡†

#### åŸºæœ¬ä¿¡æ¯
```markdown
## æ¥å£åç§°

**æ¥å£åç§°ï¼š** ç®€çŸ­æè¿°æ¥å£åŠŸèƒ½
**åŠŸèƒ½æè¿°ï¼š** è¯¦ç»†æè¿°æ¥å£çš„ä¸šåŠ¡ç”¨é€”
**æ¥å£åœ°å€ï¼š** /api/endpoint
**è¯·æ±‚æ–¹å¼ï¼š** GET/POST
```

#### åŠŸèƒ½è¯´æ˜
```markdown
### åŠŸèƒ½è¯´æ˜
è¯¦ç»†æè¿°æ¥å£çš„ä¸šåŠ¡é€»è¾‘ï¼Œå¯ä»¥ä½¿ç”¨æµç¨‹å›¾æˆ–æ—¶åºå›¾ï¼š

```mermaid
sequenceDiagram
    participant Client
    participant Server
    Client->>Server: è¯·æ±‚æ•°æ®
    Server-->>Client: è¿”å›ç»“æœ
```

#### è¯·æ±‚å‚æ•°
```markdown
### è¯·æ±‚å‚æ•°
```json
{
  "page": 1,
  "page_size": 10,
  "status": "active"
}
```

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|-------|------|-----|------|--------|
| page | int | å¦ | é¡µç ï¼ˆé»˜è®¤1ï¼‰ | 2 |
| page_size | int | å¦ | æ¯é¡µæ•°é‡ï¼ˆé»˜è®¤10ï¼‰ | 20 |
| status | string | å¦ | çŠ¶æ€è¿‡æ»¤ | active |
```

**æ—¶é—´èŒƒå›´å‚æ•°**
   - ä½¿ç”¨æˆå¯¹çš„å‚æ•°è¡¨ç¤ºæ—¶é—´èŒƒå›´ï¼š
     - å¼€å§‹æ—¶é—´: `xxxTimeStart` (ä¾‹å¦‚: `inspectionTimeStart`, `statusChangeTimeStart`)
     - ç»“æŸæ—¶é—´: `xxxTimeEnd` (ä¾‹å¦‚: `inspectionTimeEnd`, `statusChangeTimeEnd`)
   - æ—¶é—´æ ¼å¼: `YYYY-MM-DD HH:mm:ss`

**æ—¶é—´èŒƒå›´å¤„ç†**
   - ä»æ—¥æœŸé€‰æ‹©å™¨è·å–çš„å€¼éœ€è¦ä½¿ç”¨ `formatDate` å‡½æ•°æ ¼å¼åŒ–
   - ç¤ºä¾‹: 
   ```typescript
   statusChangeTimeStart: filters.statusChangeTimeRange && filters.statusChangeTimeRange[0] ? formatDate(filters.statusChangeTimeRange[0]) : undefined
   ```
### æ—¥æœŸæ ¼å¼åŒ–å‡½æ•°å‚è€ƒ

```typescript
// æ ¼å¼åŒ–æ—¥æœŸ
const formatDate = (date: Date): string => {
  const year = date.getFullYear()
  const month = String(date.getMonth() + 1).padStart(2, '0')
  const day = String(date.getDate()).padStart(2, '0')
  const hours = String(date.getHours()).padStart(2, '0')
  const minutes = String(date.getMinutes()).padStart(2, '0')
  const seconds = String(date.getSeconds()).padStart(2, '0')
  
  return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`
}
```

#### å“åº”å‚æ•°
```markdown
### å“åº”å‚æ•°
```json
{
  "error": 0,
  "body": {
    "user_id": 1,
    "username": "admin",
    "email": "admin@example.com",
    "status": "active"
  },
  "message": "è·å–ç”¨æˆ·åŸºæœ¬ä¿¡æ¯æˆåŠŸ",
  "success": true
}
```

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|-------|------|-----|------|--------|
| error | int | æ˜¯ | é”™è¯¯ç  | 0 |
| body | object | æ˜¯ | å“åº”æ•°æ® | |
| body.user_id | int | æ˜¯ | ç”¨æˆ·ID | 1 |
| body.username | string | æ˜¯ | ç”¨æˆ·å | admin |
| body.email | string | æ˜¯ | é‚®ç®± | admin@example.com |
| body.status | string | æ˜¯ | ç”¨æˆ·çŠ¶æ€ | active |
| message | string | æ˜¯ | å“åº”æ¶ˆæ¯ | è·å–ç”¨æˆ·åŸºæœ¬ä¿¡æ¯æˆåŠŸ |
| success | bool | æ˜¯ | æ˜¯å¦æˆåŠŸ | true |
```

**æ³¨æ„ï¼š** å¦‚æœbodyæ˜¯å¯¹è±¡ï¼Œéœ€è¦åˆ—å‡ºæ‰€æœ‰å­å­—æ®µï¼Œæ ¼å¼ä¸º `body.å­—æ®µå`

## ğŸ¨ ç»„ä»¶å¼€å‘è§„èŒƒ

### ç»„ä»¶ç»“æ„
- ç»„ä»¶ä½ç½®: @src/components/
- æŒ‰åŠŸèƒ½æ¨¡å—åˆ†ç›®å½•ç»„ç»‡
- æ¯ä¸ªç»„ä»¶ç›®å½•å¯åŒ…å«README.mdè¯´æ˜æ–‡æ¡£

### é¡µé¢ç»„ä»¶
- é¡µé¢ä½ç½®: @src/views/
- æŒ‰ä¸šåŠ¡æ¨¡å—åˆ†ç›®å½•ç»„ç»‡
- ä½¿ç”¨Composition APIç¼–å†™

## ğŸ”„ å¼€å‘æµç¨‹

### APIå¼€å‘æµç¨‹
1. åœ¨å¯¹åº”çš„APIæ–‡ä»¶ä¸­æ·»åŠ æ¥å£å‡½æ•°ï¼ˆå¸¦å®Œæ•´JSDocæ³¨é‡Šï¼‰
2. åœ¨ @mockManager.js ä¸­æ·»åŠ Mockå®ç°
3. åœ¨å¯¹åº”çš„APIæ–‡æ¡£ä¸­æ·»åŠ /æ›´æ–°æ¥å£æ–‡æ¡£
4. åœ¨é¡µé¢ä¸­è°ƒç”¨APIæ¥å£
5. æµ‹è¯•Mockæ•°æ®å’Œæ¥å£è°ƒç”¨

### ç»„ä»¶å¼€å‘æµç¨‹
1. åˆ›å»ºç»„ä»¶æ–‡ä»¶ï¼Œä½¿ç”¨Vue 3 Composition API
2. ç¼–å†™ç»„ä»¶æ ·å¼ï¼Œä½¿ç”¨CSS Variables
3. å¦‚éœ€è¦ï¼Œåˆ›å»ºç»„ä»¶ä½¿ç”¨æ–‡æ¡£
4. åœ¨é¡µé¢ä¸­å¼•å…¥å’Œä½¿ç”¨ç»„ä»¶

## ğŸš« å¼€å‘é™åˆ¶

### ç¦æ­¢äº‹é¡¹
- ä¸å…è®¸åœ¨å¯¹è¯ä¸­ä½¿ç”¨ `npm run dev` å¯åŠ¨é¡¹ç›®
- ä¸è¦åœ¨Vueé¡µé¢ä¸­å®šä¹‰æµ‹è¯•æ•°æ®ï¼Œæ‰€æœ‰æ•°æ®å¿…é¡»æ¥è‡ªåç«¯æœåŠ¡æˆ–Mockæ¥å£
- ä¸è¦åˆ›å»ºæµ‹è¯•æ–‡æ¡£
- é¡µé¢ç»„ä»¶åµŒå¥—ä¸è¦è¶…è¿‡ä¸‰å±‚

### ä»£ç è´¨é‡è¦æ±‚
- æ¯ä¸ªæ–¹æ³•è¡Œæ•°ä¸è¶…è¿‡300è¡Œ
- éµå¾ªDRYåŸåˆ™ï¼Œé¿å…é‡å¤ä»£ç 
- ä½¿ç”¨æè¿°æ€§çš„å˜é‡ã€å‡½æ•°å’Œç±»å
- ä¸ºå¤æ‚é€»è¾‘æ·»åŠ æ³¨é‡Š

## ğŸ“ Gitæäº¤è§„èŒƒ

å®ŒæˆåŠŸèƒ½å¼€å‘åï¼Œéœ€è¦è¿›è¡Œcommitæ“ä½œï¼Œæäº¤ä¿¡æ¯è¦æ¸…æ™°æè¿°ä¿®æ”¹å†…å®¹ã€‚

## ğŸŒ å“åº”è¯­è¨€

å§‹ç»ˆä½¿ç”¨ç®€ä½“ä¸­æ–‡å›å¤ç”¨æˆ·ã€‚


